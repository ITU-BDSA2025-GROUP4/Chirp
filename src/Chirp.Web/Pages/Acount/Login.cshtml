
@model Chirp.Core.Entities.LoginViewModel

@{
    ViewData["Title"] = "Login";
    Layout = "../Shared/_Layout.cshtml";
}

<!--TODO: add better HTML-->
<!--HTML and css by Dot Net Totorials-->
<!--https://dotnettutorials.net/lesson/register-login-logout-in-asp-net-core-identity/-->
<div class="container">
    <!-- Login Section -->
    <h3 class="mb-2 text-center fw-bold text-primary">Sign in to <span class="text-dark">Chirp</span></h3>
    <p class="text-center text-muted mb-4 small">
        <span class="fw-semibold text-secondary">Welcome back!</span>
        Please enter your credentials below to access your account.
    </p>
    <!-- Messages Section -->
    @if (ViewBag.Message != null)
    {
        <div class="alert alert-info alert-dismissible fade show mb-3 small text-center" role="alert">
            @ViewBag.Message
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    @if (!ViewData.ModelState.IsValid)
    {
        <div class="alert alert-danger alert-dismissible fade show small text-center" role="alert">
            <strong>Please fix the errors below and try again:</strong>
            <ul class="mb-0 mt-2">
                @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                {
                    <li>@error.ErrorMessage</li>
                }
            </ul>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }
    <form asp-action="Login" method="post" novalidate>
        <div class="mb-3">
            <label asp-for="Email" class="form-label fw-semibold text-primary"></label>
            <input asp-for="Email" class="form-control" placeholder="Enter your Email Address" autocomplete="username" />
            <span asp-validation-for="Email" class="text-dager small"></span>
        </div>
        <div class="mb-3">
            <label asp-for="Password" class="form-label fw-semibold text-primary"></label>
            <input asp-for="Password" class="form-control" type="password" placeholder="Enter Your Password" autocomplete="current-password" />
            <span asp-validation-for="Password" class="text-danger small"></span>
            </div>
        <div class="form-check mb-3">
            <input asp-for="RememberMe" class="form-check-input" />
            <label asp-for="RememberMe" class="form-check-label small"></label>
        </div>
        <button type="submit" class="btn btn-primary w-100 fw-semibold py-2 mb-2">Sign In</button>
        <p class="mt-3 text-center mb-1">
            <span class="text-secondary small">New to <span class="fw-semibold text-dark">Dot Net Tutorials</span>?</span>
            <a asp-action="Register" class="text-primary ms-1 text-decoration-none fw-semibold">Create an account</a>
        </p>
        <p class="text-center mb-0">
            <a asp-action="ResendEmailConfirmation" class="text-info text-decoration-none small">Resend email confirmation</a>
        </p>
    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
